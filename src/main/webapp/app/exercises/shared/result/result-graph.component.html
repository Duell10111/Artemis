<div class="result-graph-wrapper">
    <svg class="result-graph-svg" viewBox="0 0 100 100" width="100px">
        <ng-container *ngFor="let segment of graphSegments">
            <circle class="graph-ring-outer" cx="50" cy="50" [attr.r]="segment.r" fill="transparent" stroke="#f4f4f4" stroke-width="8"></circle>
            <circle
                class="graph-segment"
                cx="50"
                cy="50"
                [attr.r]="segment.r"
                fill="transparent"
                [attr.stroke]="segment.color"
                stroke-width="8"
                [attr.stroke-dasharray]="segment.value * TWO_PI * segment.r + ' ' + (1 - segment.value) * TWO_PI * segment.r"
                [attr.stroke-dashoffset]="-segment.offset * TWO_PI * segment.r"
            ></circle>
        </ng-container>
    </svg>
    <div class="result-graph-legend">
        <div class="result-graph-legend-item" *ngFor="let segment of graphSegments">
            <span class="result-graph-legend-dot" [style]="{ backgroundColor: segment.color }"></span>
            <div style="width: 7em">{{ segment.legendText }}</div>
            <div>
                <b>{{ segment.points.toFixed(1) }} P</b>
            </div>
        </div>
    </div>
</div>
